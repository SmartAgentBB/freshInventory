# ์ธ์ ์์ง ๊ธฐ๋ฅ ํ์คํธ ๊ฐ์ด๋

## ๐ฑ ํ์คํธ ํ๊ฒฝ
- Expo Go (iOS/Android)
- ๊ฐ๋ฐ ๋น๋
- ์ค์ ๊ธฐ๊ธฐ (๊ถ์ฅ)

## โ ํ์คํธ ์ฒดํฌ๋ฆฌ์คํธ

### 1. ๊ธฐ๋ณธ ์ธ์ ์์ง
- [ ] ๋ก๊ทธ์ธ
- [ ] ์ฑ ์์ ์ข๋ฃ (๋ฉํฐํ์คํน์์ ์๊ฑฐ)
- [ ] ์ฑ ์ฌ์คํ
- [ ] ๋ก๊ทธ์ธ ์ํ ์์ง ํ์ธ

### 2. ์ฑ ์๋ฐ์ดํธ ์๋๋ฆฌ์ค
- [ ] ๋ก๊ทธ์ธ
- [ ] Expo ๊ฐ๋ฐ ์๋ฒ ์ฌ์์ (Ctrl+C โ npx expo start)
- [ ] ์ฑ ์๋ก๊ณ์นจ (๊ฐ๋ฐ ๋ชจ๋์์ r ํค)
- [ ] ๋ก๊ทธ์ธ ์ํ ์์ง ํ์ธ

### 3. ๋ฐฑ๊ทธ๋ผ์ด๋ ์ํ
- [ ] ๋ก๊ทธ์ธ
- [ ] ์ฑ์ ๋ฐฑ๊ทธ๋ผ์ด๋๋ก ์ด๋ (ํ ๋ฒํผ)
- [ ] 5๋ถ ๋๊ธฐ
- [ ] ์ฑ ๋ค์ ์ด๊ธฐ
- [ ] ๋ก๊ทธ์ธ ์ํ ์์ง ํ์ธ

### 4. ์ฅ์๊ฐ ๋ฐฉ์น
- [ ] ๋ก๊ทธ์ธ
- [ ] ์ฑ ์ข๋ฃ
- [ ] 24์๊ฐ ๋๊ธฐ
- [ ] ์ฑ ์ฌ์คํ
- [ ] ๋ก๊ทธ์ธ ์ํ ์์ง ํ์ธ (ํํฐ ์๋ ๊ฐฑ์)

### 5. ๋คํธ์ํฌ ๋ณ๊ฒฝ
- [ ] ๋ก๊ทธ์ธ (WiFi)
- [ ] WiFi โ ๋ชจ๋ฐ์ผ ๋ฐ์ดํฐ ์ํ
- [ ] ์ฑ ์์ ์๋ ํ์ธ
- [ ] ๋ก๊ทธ์ธ ์ํ ์์ง ํ์ธ

### 6. ๋ก๊ทธ์์ ํ์คํธ
- [ ] ๋ก๊ทธ์ธ
- [ ] ํ๋กํ์์ ๋ก๊ทธ์์ ๋ฒํผ ํด๋ฆญ
- [ ] ์ฑ ์ฌ์์
- [ ] ๋ก๊ทธ์ธ ํ๋ฉด์ผ๋ก ์ด๋ํ๋์ง ํ์ธ

## ๐ ๋๋ฒ๊น ๋ฐฉ๋ฒ

### AsyncStorage ๋ด์ฉ ํ์ธ
ProfileScreen์ ์์ ๋ฒํผ ์ถ๊ฐ:

\`\`\`typescript
import AsyncStorage from '@react-native-async-storage/async-storage';

const debugSession = async () => {
  const keys = await AsyncStorage.getAllKeys();
  const supabaseKeys = keys.filter(k => k.includes('supabase'));

  console.log('=== Supabase Session Debug ===');
  for (const key of supabaseKeys) {
    const value = await AsyncStorage.getItem(key);
    console.log(\`\${key}:\`, value?.substring(0, 100));
  }
};

// ๋ฒํผ์ ์ฐ๊ฒฐ
<Button onPress={debugSession}>์ธ์ ๋๋ฒ๊ทธ</Button>
\`\`\`

### ์ฝ์ ๋ก๊ทธ ํ์ธ
useAuth ํ์์ ๋ค์ ์ด๋ฒคํธ ๋ก๊ทธ ํ์ธ:
- `SIGNED_IN`: ๋ก๊ทธ์ธ ์ฑ๊ณต
- `TOKEN_REFRESHED`: ํํฐ ์๋ ๊ฐฑ์
- `INITIAL_SESSION`: ์์ฅ๋ ์ธ์ ๋ณต์
- `SIGNED_OUT`: ๋ก๊ทธ์์

## ๐ ์์ ๊ฒฐ๊ณผ

### โ ์ฑ๊ณต
- ์ฑ ์ฌ์์ ํ ์๋์ผ๋ก ๋ฉ์ธ ํ๋ฉด ํ์
- ๋ก๋ฉ ํ๋ฉด์ด ์๊น ํ์๋ ํ ๋ฐ๋ก ๋ก๊ทธ์ธ ์ํ
- ์๋ฆผ ์ค์์ด ๊ณ์ ์์ง๋จ

### โ ์คํจ
- ์ฑ ์ฌ์์ ์ ๋ก๊ทธ์ธ ํ๋ฉด์ผ๋ก ์ด๋
- "์์๋ง ๊ธฐ๋ค๋ค์ฃผ์ธ์..." ๋ก๋ฉ ํ ๋ก๊ทธ์ธ ํ๋ฉด
- ์๋ฆผ์ด ์ค์ง ์์

## ๐ง ๋ฌธ์ ํด๊ฒฐ

### ์ธ์์ด ์์ง๋์ง ์๋ ๊ฒฝ์ฐ
1. AsyncStorage ๊ถํ ํ์ธ
2. Supabase ํ๋ก์ํธ ์ค์ ํ์ธ
3. ๋คํธ์ํฌ ์ฐ๊ฒฐ ํ์ธ
4. ์ฝ์ ๋ก๊ทธ์์ ์๋ฌ ํ์ธ

### ํํฐ ๊ฐฑ์ ์คํจ
1. Supabase ํ๋ก์ํธ JWT ๋ง๋ฃ ์๊ฐ ํ์ธ
2. `autoRefreshToken: true` ์ค์ ํ์ธ
3. ๋คํธ์ํฌ ์ฐ๊ฒฐ ์ํ ํ์ธ
